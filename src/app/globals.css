@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --color-accent: oklch(0% 0 0);
  --color-accent-dim: oklch(100% 0 0 / 0.10);
  --color-accent-muted: oklch(0% 0 0 / 0.06);
  --color-accent-fg: oklch(0% 0 0);
  --color-cel-shadow: rgba(0, 0, 0, 0.85);
  --color-cel-shadow-sm: rgba(0, 0, 0, 0.7);
}

.dark {
  --color-accent: oklch(100% 0 0);
  --color-accent-dim: oklch(100% 0 0 / 0.10);
  --color-accent-muted: oklch(100% 0 0 / 0.06);
  --color-accent-fg: oklch(100% 0 0);
  --color-cel-shadow: rgba(255, 255, 255, 0.12);
  --color-cel-shadow-sm: rgba(255, 255, 255, 0.08);
}

::selection {
  background-color: oklch(65% 0.25 280 / 0.3);
}
.dark ::selection {
  background-color: oklch(75% 0.2 280 / 0.35);
}

/* Cel-shaded crosshatch grid */
.bg-grid {
  background-image:
    linear-gradient(to right, oklch(30% 0 0 / 0.08) 2px, transparent 2px),
    linear-gradient(to bottom, oklch(30% 0 0 / 0.08) 2px, transparent 2px);
  background-size: 40px 40px;
}
.dark .bg-grid {
  background-image:
    linear-gradient(to right, oklch(80% 0 0 / 0.06) 2px, transparent 2px),
    linear-gradient(to bottom, oklch(80% 0 0 / 0.06) 2px, transparent 2px);
}

/* Halftone dot overlay (cel-shade aesthetic) */
.bg-noise::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  opacity: 0.04;
  background-image: radial-gradient(circle, #000 1px, transparent 1px);
  background-size: 6px 6px;
}
.dark .bg-noise::after {
  opacity: 0.06;
  background-image: radial-gradient(circle, #fff 0.5px, transparent 0.5px);
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #27272a;
  border: 2px solid transparent;
}

.dark ::-webkit-scrollbar-thumb {
  background: #a1a1aa;
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out both;
}

.animate-fade-in-1 { animation: fade-in 0.4s ease-out 0.1s both; }
.animate-fade-in-2 { animation: fade-in 0.4s ease-out 0.2s both; }
.animate-fade-in-3 { animation: fade-in 0.4s ease-out 0.3s both; }
.animate-fade-in-4 { animation: fade-in 0.4s ease-out 0.4s both; }
.animate-fade-in-5 { animation: fade-in 0.4s ease-out 0.5s both; }
.animate-fade-in-6 { animation: fade-in 0.4s ease-out 0.6s both; }

@keyframes pulse-dot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(1.4); }
}

.animate-pulse-dot {
  animation: pulse-dot 1.5s ease-in-out infinite;
}

/* Cel-shaded hard shadow utilities */
.cel-shadow {
  box-shadow: 4px 4px 0px var(--color-cel-shadow);
}
.cel-shadow-sm {
  box-shadow: 3px 3px 0px var(--color-cel-shadow);
}
.cel-shadow-xs {
  box-shadow: 2px 2px 0px var(--color-cel-shadow-sm);
}

/* Active/pressed state for cel buttons */
.cel-btn-press:active {
  transform: translate(2px, 2px);
  box-shadow: 1px 1px 0px var(--color-cel-shadow-sm) !important;
}

/* Cel-shaded spinner */
@keyframes cel-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.animate-cel-spin {
  animation: cel-spin 0.8s steps(8) infinite;
}
